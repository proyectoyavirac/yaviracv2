<div class="navbar-header">
    
        <div class="description text-justify">
                <img src="http://content.wisestep.com/wp-content/uploads/2014/10/ruby-logo.png" align="left" width="410" height="340">            
                <h2><b>RUBY</b></h2><br>
            <h6>
                Utilizando el lenguaje de programación ruby<br> realizamos una peticion api-rest en consola <br> para solicitar la información de un usuario.<br> 
            </h6>
            <br>
            <h5><b>LIBRERIAS</b></h5><br>
            <h6>Net::HTTP</h6>
            </div>
            <br>
            <br>
            <br>
            <br>
    <h4><b>CÓDIGO</b></h4>
    <br>
            <table align="left" border="0" cellpadding="0" cellspacing="0" width="100%" style="min-width:100%;" class="mcnBoxedTextContentContainer">
                    <tbody>
                        <tr>
                            <td style="padding-top:9px; padding-left:18px; padding-bottom:9px; padding-right:18px;">
                                <table border="5" cellspacing="5" class="mcnTextContentContainer" width="80%" style="min-width: 80% !important;background-color: #F2F2F2;">
                                    <tbody>
                                        <tr>
                                            <td valign="top" class="mcnTextContent" style="padding: 18px;color: #404040;font-family: Helvetica;">
                                                <div style="text-align: left;">
                                                    <h5>
                                                    class Menu<br>
                                                    attr_reader :exit<br>
                                                    
                                                    def initialize<br>
                                                        @exit = false<br>
                                                    end<br>
                                                
                                                    def mostrar_menu<br>
                                                        puts " " <br>
                                                        puts "1.) Buscar con el número de cédula"<br>
                                                        puts "2.) Buscar con el Id"<br>
                                                        puts "3.) Buscar con el código"<br>
                                                        puts "4.) Salir"<br>
                                                    end<br>
                                                
                                                    def opciones<br>
                                                        opt = gets.chomp.to_i.abs<br>
                                                
                                                        case opt<br>
                                                
                                                        when 1 then<br>
                                                            ingresar_cedula<br>
                                                        when 2 then<br>
                                                            ingresar_id<br>
                                                        when 3 then<br>
                                                            ingresar_codigo    <br>
                                                        when 4 then<br>
                                                            @exit = true<br>
                                                        end<br>
                                                    end<br>
                                                
                                                    private<br>
                                                
                                                    def ingresar_cedula<br>
                                                        puts "Ingrese el número de cédula: "<br>
                                                        npas = gets.chomp<br>
                                                        puts ' '<br>
                                                        puts '             CORRESPONDE A:<br>
                                                         '   
                                                         require 'net/http'<br>
                                                         require 'json'    <br>
                                                                  
                                                         url ='https://aplicaciones.espe.edu.ec:8443/authentication/api/query/ced='+npas+'<br>&auth=ba82e1071cd1ea9669a62f24213ba4a4.cf3df0e97b7a4cc68aeaab8d6bbb9691' <br>
                                                         uri = URI(url)<br>
                                                         response = Net::HTTP.get(uri)<br>
                                                         im = JSON.parse(response)<br>
                                                         stnum = im.length<br>
                                                
                                                        if stnum >=10<br>
                                                        puts '    Nombres:              ' + im['nombres']<br>
                                                        puts '    Apellidos:            ' + im['apellidos']<br>
                                                        puts '    Código:               ' + im['codigo']<br>
                                                        puts '    Id:                   ' + im['id']<br>
                                                        puts '    Fecha de nacimiento:  ' + im['fechaNacimiento']<br>
                                                        puts '    E-mails:              ' + im['emails'].to_json<br>
                                                        puts '    Teléfonos:            ' + im['telefonos'].to_json<br>
                                                        puts '    Dirección:            ' + im['direccion'].to_json <br>
                                                        puts ' '<br>
                                                
                                                        else<br>
                                                        puts 'No pertenece a la Universidad'   <br>
                                                        end <br>
                                                    end<br>
                                                
                                                    def ingresar_id<br>
                                                        puts "Ingrese el Id: "<br>
                                                        npas = gets.chomp<br>
                                                        puts ' '<br>
                                                        puts '             CORRESPONDE A:<br>
                                                         '   
                                                         require 'net/http'<br>
                                                         require 'json'    <br>
                                                                  
                                                         url ='https://aplicaciones.espe.edu.ec:8443/authentication/api/query/id='+npas+'<br>&auth=ba82e1071cd1ea9669a62f24213ba4a4.cf3df0e97b7a4cc68aeaab8d6bbb9691' <br>
                                                         uri = URI(url)<br>
                                                         response = Net::HTTP.get(uri)<br>
                                                         im = JSON.parse(response)<br>
                                                         stnum = im.length<br>
                                                        
                                                         if stnum >=10<br>
                                                        
                                                        puts '    Nombres:              ' + im['nombres']<br>
                                                        puts '    Apellidos:            ' + im['apellidos']<br>
                                                        puts '    Cédula:               ' + im['cedula']<br>
                                                        puts '    Código:               ' + im['codigo']<br>
                                                        puts '    Fecha de nacimiento:  ' + im['fechaNacimiento']<br>
                                                        puts '    E-mails:              ' + im['emails'].to_json<br>
                                                        puts '    Teléfonos:            ' + im['telefonos'].to_json<br>
                                                        puts '    Dirección:            ' + im['direccion'].to_json <br>
                                                        puts ' '<br>
                                                        else<br>
                                                        puts 'No pertenece a la Universidad'   <br>
                                                        end<br>
                                                
                                                    end<br>
                                                
                                                    def ingresar_codigo<br>
                                                        puts "Ingrese el código: "<br>
                                                        npas = gets.chomp<br>
                                                        puts ' '<br>
                                                        puts '             CORRESPONDE A:<br>
                                                         '
                                                         require 'net/http'<br>
                                                         require 'json'    <br>
                                                                  
                                                         url ='https://aplicaciones.espe.edu.ec:8443/authentication/api/query/cod='+npas+'<br>&auth=ba82e1071cd1ea9669a62f24213ba4a4.cf3df0e97b7a4cc68aeaab8d6bbb9691' <br>
                                                         uri = URI(url)<br>
                                                         response = Net::HTTP.get(uri)<br>
                                                         im = JSON.parse(response)<br>
                                                
                                                         stnum = im.length<br>
                                                         
                                                         if stnum >=10<br>
                                                          
                                                        puts '    Nombres:              ' + im['nombres']<br>
                                                        puts '    Apellidos:            ' + im['apellidos']<br>
                                                        puts '    Cédula:               ' + im['cedula']<br>
                                                        puts '    Id:                   ' + im['id']<br>
                                                        puts '    Fecha de nacimiento:  ' + im['fechaNacimiento']<br>
                                                        puts '    E-mails:              ' + im['emails'].to_json<br>
                                                        puts '    Teléfonos:            ' + im['telefonos'].to_json<br>
                                                        puts '    Dirección:            ' + im['direccion'].to_json <br>
                                                        puts ' '<br>
                                                        else<br>
                                                        puts 'No pertenece a la Universidad'   <br>
                                                        end<br>
                                                
                                                    end<br>
                                                
                                                end<br>
                                                
                                                    menu=Menu.new<br>
                                                    
                                                    until menu.exit<br>
                                                        menu.mostrar_menu<br>
                                                        menu.opciones<br>
                                                    end;
                                                </h5>
                                            </td>
                                        </tr>
                                    </tbody>
                                </table>
                            </td>
                        </tr>
                    </tbody>
                </table>
</div>
